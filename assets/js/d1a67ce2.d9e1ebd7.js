"use strict";(self.webpackChunkdocus=self.webpackChunkdocus||[]).push([[64],{407:function(e,t,n){n.d(t,{h:function(){return p}});var r=n(3366),a=n(7294),i=n(7720),o=n(1927),l=n(8239),c=n(5344),s=n(1013),u=n(2859),d=n(5350),m=["useForm","children"];function p(e){var t=e.useForm,n=e.children,p=(0,r.Z)(e,m),h=t(),f=h.form,v=h.query,y=(0,d.Z)().isDarkTheme,w=(0,l.Z)({palette:{mode:y?"dark":void 0,primary:{main:"rgb(37, 193, 159)"}}}),E=a.cloneElement(n,Object.assign({},v,p));return a.createElement(c.Z,{dateAdapter:s.Z},a.createElement(o.Z,{theme:w},a.createElement(u.Z,null,a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"})),f,a.createElement(i.Z,{sx:{my:2}}),E))}},8453:function(e,t,n){n.d(t,{k:function(){return E},c:function(){return W}});var r=n(9669),a=n.n(r),i=n(7294),o=n(4008),l=n(7155),c=n(9075),s=n(8023),u=n(4149),d=n(8690),m=n(2739),p=n(6359),h=n(1416),f=n(5568),v=n(8078),y=n(7357),w=n(9055);function E(e){var t,n=e.repo,r=e.event,s=e.n,u=e.years,d=e.size,m=void 0===d?30:d,p=e.clear,h=void 0!==p&&p,w=function(e,t){var n=(0,i.useState)(void 0),r=n[0],l=n[1],c=(0,i.useState)(void 0),s=c[0],u=c[1];return(0,i.useEffect)((function(){l(void 0),u(void 0),a().get("/q/"+e,{baseURL:"https://community-preview-contributor.tidb.io",params:t}).then((function(e){var t=e.data;t.sql&&(t.sql=(0,o.WU)(t.sql)),l(t)})).catch((function(e){return u(e)}))}),[JSON.stringify(t)]),{data:r,error:s}}("events-history",{repo:n,event:r,n:s,years:u}),E=w.data,Z=w.error,x=(0,i.useMemo)((function(){if(E)return{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{containLabel:!0,left:0,top:h?0:16,bottom:h?0:16},xAxis:{type:"value",position:"top"},yAxis:{type:"category",data:E.data.map((function(e){return e.repo_name})),inverse:!0,axisLabel:{rotate:0,formatter:function(e,t){return e.split("/")[1]}}},series:[{name:"Count",data:E.data.map((function(e){return e.events_count})),type:"bar",barWidth:h?m/2:m,itemStyle:{color:"#ffe39f",borderColor:"#786837",opacity:.7}}]}}),[E,n,r,s,u]);if(E){var b,k,S=s*(m*(h?1:1.5)),C=i.createElement(l.Z,{echarts:c,option:x,notMerge:!0,lazyUpdate:!0,theme:"theme_name",style:{height:S},opts:{devicePixelRatio:null!=(b=null==(k=window)?void 0:k.devicePixelRatio)?b:1,renderer:"canvas",height:S,width:"auto",locale:"en"},onEvents:{click:function(e){"name"in e&&window.open("https://github.com/"+e.name).then()}}});return h?C:i.createElement(i.Fragment,null,C,g(E.sql))}return Z?i.createElement(f.Z,{severity:"error"},"Request failed $",null!=(t=null==Z?void 0:Z.message)?t:""):i.createElement(y.Z,{sx:{p:h?0:8,height:200}},i.createElement(v.Z,{width:"80%"}),i.createElement(v.Z,{width:"70%"}),i.createElement(v.Z,{width:"50%"}),i.createElement(v.Z,{width:"45%"}),i.createElement(v.Z,{width:"25%"}),i.createElement(v.Z,{width:"10%"}))}s.D([d.N,m.N,p.N,u.N,h.N]);var g=function(e){return e?i.createElement(w.Z,{className:"language-sql"},e):i.createElement(y.Z,{sx:{pt:.5}},i.createElement(v.Z,{width:"80%"}),i.createElement(v.Z,{width:"50%"}),i.createElement(v.Z,{width:"70%"}))},Z=n(6447),x=n(913),b=n(3841),k=n(9448),S=n(3599),C=n(5449),R=n(4722),q=[{title:"Stars",value:"WatchEvent"},{title:"Forks",value:"ForkEvent"},{title:"PRs",value:"PullRequestEvent"}],M=[1,2,5,10],T=[10,20,50],W=function(){var e=(0,i.useMemo)((function(){return Math.random()}),[]),t=(0,i.useMemo)((function(){var e=q[0].value,t=1,n=10;if("undefined"!=typeof window){var r=new URLSearchParams(location.search),a=r.get("type"),i=parseInt(r.get("years")),o=parseInt(r.get("n"));a&&q.find((function(e){return e.value===a}))&&(e=a),i&&M.indexOf(i)>=0&&(t=i),o&&T.indexOf(o)>=0&&(n=o)}return{initialType:e,initialYears:t,initialLimits:n}}),[]),n=t.initialType,r=t.initialLimits,a=t.initialYears,o=(0,i.useState)(n),l=o[0],c=o[1],s=(0,i.useState)(r),u=s[0],d=s[1],m=(0,i.useState)(a),p=m[0],h=m[1],f=(0,i.useMemo)((function(){if("undefined"!=typeof window){var e=new window.URLSearchParams;e.set("type",l),e.set("n",String(u)),e.set("years",String(p)),window.history.replaceState(null,null,"?"+e.toString())}return{event:l,n:u,years:p}}),[l,u,p]),v=i.createElement(Z.Z,{direction:"row",sx:{flexWrap:"wrap",alignItems:"flex-end",gap:4}},i.createElement(x.Z,{variant:"standard",sx:{minWidth:"120px",maxWidth:"120px"}},i.createElement(b.Z,{id:"cubechart-"+e+"-type"},"Type"),i.createElement(k.Z,{id:"cubechart-"+e+"-type",value:l,onChange:function(e){return c(e.target.value)},label:"Type",size:"small"},q.map((function(e){return i.createElement(S.Z,{key:e.value,value:e.value},e.title)})))),i.createElement(x.Z,{variant:"standard",sx:{minWidth:"120px",maxWidth:"120px"}},i.createElement(C.Z,{variant:"standard",id:"cubechart-"+e+"-type",select:!0,value:u,onChange:function(e){return d(e.target.value)},InputProps:{startAdornment:i.createElement(R.Z,{position:"start"},"Top")}},T.map((function(e){return i.createElement(S.Z,{key:e,value:e},e)})))),i.createElement(x.Z,{variant:"standard",sx:{minWidth:"220px",maxWidth:"220px"}},i.createElement(C.Z,{variant:"standard",id:"cubechart-"+e+"-type",value:p,onChange:function(e){return h(e.target.value)},select:!0,InputProps:{startAdornment:i.createElement(R.Z,{position:"start"},"Recent"),endAdornment:i.createElement(R.Z,{position:"start",sx:{mr:4}},"Year(s)")}},M.map((function(e){return i.createElement(S.Z,{key:e,value:e},e)})))));return{form:v,query:f}}},8817:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return u},metadata:function(){return d},toc:function(){return m},default:function(){return h}});var r=n(7462),a=n(3366),i=(n(7294),n(3905)),o=n(407),l=n(8453),c=["components"],s={title:"History"},u=void 0,d={unversionedId:"low-code/history",id:"low-code/history",title:"History",description:"",source:"@site/docs/low-code/history.mdx",sourceDirName:"low-code",slug:"/low-code/history",permalink:"/docs/low-code/history",editUrl:"https://github.com/pingcap-inc/gharchive.live/edit/main/docs/low-code/history.mdx",tags:[],version:"current",frontMatter:{title:"History"},sidebar:"tutorialSidebar",previous:{title:"index",permalink:"/docs/low-code/"},next:{title:"Realtime - Hourly",permalink:"/docs/low-code/realtime"}},m=[],p={toc:m};function h(e){var t=e.components,n=(0,a.Z)(e,c);return(0,i.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)(o.h,{repo:"nocode_repos",useForm:l.c,mdxType:"CommonChart"},(0,i.kt)(l.k,{mdxType:"Chart"})))}h.isMDXComponent=!0}}]);