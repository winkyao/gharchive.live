"use strict";(self.webpackChunkdocus=self.webpackChunkdocus||[]).push([[3029],{24162:function(e,t,a){a.d(t,{q:function(){return p},H:function(){return f}});var n=a(67294),o=a(64666),r=a(37645),i=a(87357),l=a(86886),m=a(99490),s=a(15861),c=a(88078),u=a(19055),d="yyyy-MM-dd HH:mm:ss",p=function(e){var t=e.query,a=e.data,s=e.open,c=e.onClose;return(0,n.useEffect)((function(){a||c()}),[a]),n.createElement(n.Fragment,null,n.createElement(o.Z,{open:s,maxWidth:"md",fullWidth:!0,onClose:c,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},n.createElement(r.Z,null,"[For Debug] SQL Execution info"),n.createElement(i.Z,{sx:{p:4}},f(null==a?void 0:a.sql),n.createElement(l.ZP,{container:!0,alignItems:"center"},n.createElement(h,{title:"Requested at",value:m.ou.fromISO(null==a?void 0:a.requestedAt).toFormat(d)}),n.createElement(h,{title:"Expires at",value:m.ou.fromISO(null==a?void 0:a.expiresAt).toFormat(d)}),n.createElement(h,{title:"Spent",value:(null==a?void 0:a.spent)+" seconds"}),n.createElement(h,{title:"Query",value:t}),n.createElement(h,{title:"Params",value:n.createElement("pre",null,JSON.stringify(null==a?void 0:a.params,void 0,2))})))))},h=function(e){var t=e.title,a=e.value;return n.createElement(n.Fragment,null,n.createElement(l.ZP,{item:!0,xs:3},n.createElement("div",null,n.createElement(s.Z,{align:"right",variant:"body1"},t))),n.createElement(l.ZP,{item:!0,xs:1}),n.createElement(l.ZP,{item:!0,xs:8},n.createElement("div",null,n.createElement(s.Z,{align:"left",variant:"body2",component:"div"},a))))},f=function(e){return e?n.createElement(u.Z,{className:"language-sql"},e):n.createElement(i.Z,{sx:{pt:.5}},n.createElement(c.Z,{width:"80%"}),n.createElement(c.Z,{width:"50%"}),n.createElement(c.Z,{width:"70%"}))}},6971:function(e,t,a){a.d(t,{W:function(){return i}});var n=a(67294),o=a(44008),r=(0,a(21703).d)(),i=function(e,t,a,i){var l=(0,n.useState)(void 0),m=l[0],s=l[1],c=(0,n.useState)(void 0),u=c[0],d=c[1],p=(0,n.useState)(!1),h=p[0],f=p[1];return(0,n.useEffect)((function(){!1!==i&&null!=e&&(s(void 0),d(void 0),f(!0),r.get("/q/"+e,{params:t}).then((function(e){var t=e.data;t.sql&&a&&(t.sql=(0,o.WU)(t.sql)),s(t)})).catch((function(e){return d(e)})).finally((function(){return f(!1)})))}),[JSON.stringify(t)]),{data:m,loading:h,error:u}}},64556:function(e,t,a){a.d(t,{oX:function(){return o},pd:function(){return r},F6:function(){return i},y:function(){return l}});var n=a(30454);function o(){var e="#6e7078",t=["#1890ff","#2fc25b","#facc14","#223273","#8543e0","#13c2c2","#3436c7","#f04864","#66B5FF","#41D9C7","#6EDB8F","#9AE65C","#E6965C","#57AD71","#738AE6","#7564CC","#A877ED","#5C8EE6","#70E0E0","#5CA3E6","#8082FF","#DD81E6","#F04864","#FA7D92","#D598D9"];n.aW("compare-light",{color:t,backgroundColor:"#fff",graph:{color:t},timeline:{lineStyle:{color:e},itemStyle:{normal:{color:t[1]}},label:{normal:{textStyle:{color:e}}}}})}function r(){var e="#f5f6f7",t="#b8bbc2",a=function(){return{axisLine:{lineStyle:{color:t}},axisTick:{lineStyle:{color:t}},axisLabel:{textStyle:{color:e}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:t}}}},o=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],r={color:o,backgroundColor:"#1e1e1e",tooltip:{axisPointer:{lineStyle:{color:e},crossStyle:{color:e}}},legend:{textStyle:{color:e}},textStyle:{color:e},title:{textStyle:{color:e}},toolbox:{iconStyle:{normal:{borderColor:e}}},dataZoom:{textStyle:{color:e}},timeline:{lineStyle:{color:e},itemStyle:{normal:{color:o[1]}},label:{normal:{textStyle:{color:e}}},controlStyle:{normal:{color:e,borderColor:e}}},timeAxis:a(),logAxis:a(),valueAxis:a(),categoryAxis:a(),line:{symbol:"circle"},graph:{color:o},gauge:{title:{textStyle:{color:e}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};n.aW("compare-dark",r)}function i(){var e=["#d87c7c","#919e8b","#d7ab82","#6e7074","#61a0a8","#efa18d","#787464","#cc7e63","#724e58","#4b565b"];n.aW("vintage",{color:e,backgroundColor:"#fef8ef",graph:{color:e}})}function l(){var e="#eee",t=function(){return{axisLine:{lineStyle:{color:e}},axisTick:{lineStyle:{color:e}},axisLabel:{textStyle:{color:e}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:e}}}},a=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],o={color:a,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:e},crossStyle:{color:e}}},legend:{textStyle:{color:e}},textStyle:{color:e},title:{textStyle:{color:e}},toolbox:{iconStyle:{normal:{borderColor:e}}},dataZoom:{textStyle:{color:e}},timeline:{lineStyle:{color:e},itemStyle:{normal:{color:a[1]}},label:{normal:{textStyle:{color:e}}},controlStyle:{normal:{color:e,borderColor:e}}},timeAxis:t(),logAxis:t(),valueAxis:t(),categoryAxis:t(),line:{symbol:"circle"},graph:{color:a},gauge:{title:{textStyle:{color:e}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};o.categoryAxis.splitLine.show=!1,n.aW("dark",o)}},37087:function(e,t,a){var n=a(67294),o=a(68239),r=a(85350),i=a(71927),l=function(e){var t=e.children,a=(0,r.Z)().isDarkTheme,l=(0,o.Z)({palette:{mode:a?"dark":void 0,primary:{main:"rgb(37, 193, 159)"}}});return n.createElement(i.Z,{theme:l},t)};l.displayName="MuiThemeAdaptor",t.Z=l},21703:function(e,t,a){a.d(t,{d:function(){return r}});var n=a(9669),o=a.n(n);function r(){return o().create({baseURL:"https://community-preview-contributor.tidb.io"})}},21102:function(e,t,a){a.r(t),a.d(t,{default:function(){return ve}});var n=a(67294),o=a(52263),r=a(12859),i=a(77019),l=a(85350),m=a(5344),s=a(78700),c=a(86886),u=a(15861),d="mainHeader_4hMo",p="mainContent_9+-R",h="mainSection_Lz-8",f=a(37087),g=a(87462),y=a(80531),v=a(87757),E=a.n(v),b=a(61903),S=a(68245),N=a(98456);function x(){return"#"+Math.floor(255*Math.random()).toString(16)+Math.floor(255*Math.random()).toString(16)+Math.floor(255*Math.random()).toString(16)}var C=a(57144),Z=a(76798),R=a(46901),L=a(21703),M=a(8100),P=(0,L.d)();function A(e){var t,a=e.repo,o=e.label,r=e.defaultRepoName,i=e.onChange,l=(0,n.useState)(null!=r?r:""),m=l[0],s=l[1],c=(0,n.useState)(!1),u=c[0],d=c[1],p=(0,n.useMemo)((function(){return(0,C.Z)(s,500)}),[s]),h=(0,M.ZP)([m||r],{fetcher:(t=(0,y.Z)(E().mark((function e(t){var a,n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,P.get("/gh/repos/search",{params:{keyword:t}});case 5:return a=e.sent,n=a.data.data,e.abrupt("return",n.map((function(e){return{name:e.fullName,color:x()}})));case 8:return e.prev=8,d(!1),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[0,,8,11]])}))),function(e){return t.apply(this,arguments)}),fallbackData:[],revalidateOnFocus:!1,revalidateOnReconnect:!1}),f=h.data,v=h.isValidating,L=h.error,A=(0,n.useMemo)((function(){var e,t,a=(null==L||null==(e=L.response)||null==(t=e.data)?void 0:t.message)||String(L);return-1!==a.indexOf("API rate limit exceeded")?"Too frequent to operate, please try again after one minute.":a}),[L]);return n.createElement(n.Fragment,null,n.createElement(S.Z,{sx:{width:300},size:"small",isOptionEqualToValue:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e.name},options:f,loading:v,value:a,onChange:function(e,t){i(t)},onInputChange:function(){var e=(0,y.Z)(E().mark((function e(t,a,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(a);case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),renderInput:function(e){return n.createElement(b.Z,(0,g.Z)({},e,{label:o,InputProps:Object.assign({},e.InputProps,{endAdornment:n.createElement(n.Fragment,null,v?n.createElement(N.Z,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}}),n.createElement(Z.Z,{open:!!L&&!u,autoHideDuration:3e3,onClose:function(){return d(!0)}},n.createElement(R.Z,{severity:"error",sx:{width:"100%"}},A)))}var T=a(26447),w=a(92949),I=a(8442),q=a(87357),k=new Date("2011-01-01"),B=new Date;function F(e){return n.createElement(m.Z,{dateAdapter:I.Z},n.createElement(w.Z,{startText:"Start",endText:"End",minDate:k,maxDate:B,value:e.value,onChange:function(t){e.onChange(t)},renderInput:function(e,t){return n.createElement(n.Fragment,null,n.createElement(b.Z,(0,g.Z)({},e,{size:"small"})),n.createElement(q.Z,{sx:{mx:2}}," to "),n.createElement(b.Z,(0,g.Z)({},t,{size:"small"})))}}))}var G=function(e){var t=(0,l.Z)().isDarkTheme;return n.createElement("header",{className:d,style:{backgroundColor:t?"#242526":"#f9fbfc"}},n.createElement(T.Z,{direction:"row",justifyContent:"left",alignItems:"left",spacing:2,style:{marginBottom:"20px"}},n.createElement(A,{label:"Repo Name 1",defaultRepoName:"pingcap/tidb",repo:e.repo1,onChange:e.onRepo1Change}),n.createElement(A,{label:"Repo Name 2",defaultRepoName:"tikv/tikv",repo:e.repo2,onChange:e.onRepo2Change}),n.createElement(F,{value:e.dateRange,onChange:e.onDateRangeChange})))},D=a(6971),z=a(2734),W=a(44267),O=a(92902),_="basicCard_QV6f",H="basicCardHeader_K-YW",U="basicCardTitle_+ts1",K=a(66242),V=a(24162);function j(e){var t,a,o=e.loading,r=void 0!==o&&o,i=e.error,l=void 0!==i&&i,m=e.shouldLoad,s=void 0===m||m,c=e.hideTitle,d=void 0!==c&&c,p=e.title,h=e.height,f=void 0===h?"100px":h,g=e.noLoadReason,y=e.children,v=e.query,E=e.data,b=(0,z.Z)(),S=(0,n.useState)(!1),x=S[0],C=S[1];return n.createElement(n.Fragment,null,n.createElement(K.Z,{className:_},p&&!d&&n.createElement(T.Z,{className:H,direction:"row",justifyContent:"space-between",alignItems:"center"},n.createElement("a",{className:U,style:{color:b.palette.text.secondary},onClick:function(){null!=E&&C(!0)}},p)),!s||r||l?n.createElement(T.Z,{direction:"column",justifyContent:"center",alignItems:"center",style:{height:f}},r&&n.createElement(N.Z,{size:"1.5em"}),l&&n.createElement(u.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0},"Failed to load data: ",null==l||null==(t=l.response)||null==(a=t.data)?void 0:a.msg),!s&&n.createElement("div",null,g)):y),n.createElement(V.q,{query:v,data:E,open:x,onClose:function(){C(!1)}}))}function J(e){var t,a,o,r=e.queryName,i=e.params,m=e.title,s=e.height,c=e.shouldLoad,d=(0,D.W)(r,i,!0,c),p=d.data,h=d.loading,f=d.error,y=(0,n.useState)(),v=y[0],E=y[1],b=(0,l.Z)().isDarkTheme,S=(0,z.Z)(),N=(0,n.useState)(!1),x=N[0],C=N[1];return(0,n.useEffect)((function(){var e=null==p?void 0:p.data[0];if(void 0!==e){var t=e[Object.keys(e)[0]];void 0!==t&&E(t)}}),[p]),n.createElement(n.Fragment,null,n.createElement(j,(0,g.Z)({},e,{loading:h,error:f,query:r,data:p,hideTitle:!0}),n.createElement(W.Z,{style:{height:s}},n.createElement(T.Z,{direction:"column",justifyContent:"center",alignItems:"center",style:{height:"100%"}},n.createElement(O.Z,{title:v||0},n.createElement(u.Z,{variant:"h3",component:"div",fontFamily:"Lato",fontWeight:900,color:b?"#f5f6f7":"#4d5771"},v?(t=v,a=2,(o=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].slice().reverse().find((function(e){return t>=e.value})))?(t/o.value).toFixed(a).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+o.symbol:"0"):0)),n.createElement("a",{className:U,style:{color:S.palette.text.secondary},onClick:function(){null!=p&&C(!0)}},m)))),n.createElement(V.q,{query:r,data:p,open:x,onClose:function(){C(!1)}}))}var Y=a(50994),Q=a(91262);function X(e){var t=e.queryName,a=e.params,o=void 0===a?{}:a,r=e.series,i=void 0===r?[]:r,m=e.shouldLoad,s=e.tooltip,c=e.grid,u=e.xAxis,d=e.yAxis,p=e.legend,h=e.seriesColumnName,f=e.height,y=(0,D.W)(t,o,!0,m),v=y.data,E=y.loading,b=y.error,S=(0,l.Z)().isDarkTheme,N=(0,n.useState)([]),x=N[0],C=N[1];(0,n.useEffect)((function(){C((null==v?void 0:v.data)||[])}),[v]);var Z=(0,n.useMemo)((function(){return{dataset:[{id:"dataset_raw",source:x}].concat(i.map((function(e){return{id:"dataset_of_"+e.name,fromDatasetId:"dataset_raw",transform:{type:"filter",config:{and:[{dimension:h,"=":e.name}]}}}}))),tooltip:Object.assign({trigger:"axis"},s),legend:Object.assign({orient:"horizontal",left:"20px",icon:"circle",itemHeight:10,itemWidth:10,textStyle:{fontWeight:"bold"},data:i.map((function(e){return e.name}))},p),grid:Object.assign({left:"5%",right:"1%",top:"40px",bottom:"50px"},c),xAxis:Object.assign({nameGap:30,nameLocation:"middle",nameTextStyle:{fontSize:13,fontWeight:"bold"},axisLabel:{fontWeight:"bold"},axisLine:{lineStyle:{width:2}},axisTick:{show:!1}},u),yAxis:Object.assign({nameLocation:"middle",nameGap:50,nameTextStyle:{fontSize:13,fontWeight:"bold",color:"#959aa9"},axisLabel:{color:"#959aa9",fontWeight:"bold"},splitLine:{interval:5,lineStyle:{type:[5,10]}}},d),series:i.map((function(e){return{type:"line",name:e.name,datasetId:"dataset_of_"+e.name,label:{show:!0,position:"top",fontWeight:"bold",color:"#4e5771",formatter:function(e){var t=e.dataIndex,a=void 0===t?0:t,n=e.data,o=void 0===n?[]:n;return a%3==0||a===o.length-1?o[d.name]:""}},emphasis:{focus:"series"},encode:{x:u.name,y:d.name,tooltip:[d.name]}}}))}}),[x,S]);return n.createElement(j,(0,g.Z)({},e,{loading:E,error:b,query:t,data:v}),n.createElement(Q.Z,null,(function(){var e,t;return n.createElement(Y.Z,{option:Z,notMerge:!0,lazyUpdate:!0,style:{height:f,overflow:"hidden"},theme:S?"compare-dark":"compare-light",opts:{devicePixelRatio:null!=(e=null==(t=window)?void 0:t.devicePixelRatio)?e:1,renderer:"canvas",width:"auto",locale:"en"}})})))}var $=["0h","1h","2h","3h","4h","5h","6h","7h","8h","9h","10h","11h","12h","13h","14h","15h","16h","17h","18h","19h","20h","21h","22h","23h"],ee=["Sun","Mon","Tue","Wed","Thur","Fri","Sat"];function te(e){var t=e.queryName,a=e.params,o=void 0===a?{}:a,r=e.series,i=void 0===r?[]:r,m=e.shouldLoad,s=e.xAxisColumnName,c=e.yAxisColumnName,u=e.valueColumnName,d=e.xAxis,p=e.yAxis,h=e.height,f=(0,D.W)(t,o,!0,m),y=f.data,v=f.loading,E=f.error,b=(0,l.Z)().isDarkTheme,S=(0,n.useState)([]),N=S[0],x=S[1],C=(0,n.useState)(0),Z=C[0],R=C[1],L=(0,n.useState)(10),M=L[0],P=L[1];(0,n.useEffect)((function(){var e=Number.MAX_VALUE,t=Number.MIN_VALUE,a=null==y?void 0:y.data.map((function(a){var n=Number(a[u]);return n>t&&(t=n),n<e&&(e=n),[a[s],a[c],n]}));P(t),R(e),x(a||[])}),[y]);var A=(0,n.useMemo)((function(){return{tooltip:{position:"top"},grid:{height:"80%",top:"3%",left:"5%",right:"3%",bottom:"1%"},xAxis:Object.assign({type:"category",data:$,splitArea:{show:!0},nameLocation:"middle",nameGap:50,nameTextStyle:{fontSize:13,fontWeight:"bold",color:"#959aa9"},axisLabel:{color:"#959aa9",fontWeight:"bold"}},d),yAxis:Object.assign({type:"category",data:ee,splitArea:{show:!0},nameLocation:"middle",nameGap:50,nameTextStyle:{fontSize:13,fontWeight:"bold",color:"#959aa9"},axisLabel:{color:"#959aa9",fontWeight:"bold"}},p),visualMap:{min:Z,max:M,orient:"horizontal",left:"center"},series:i.map((function(e){return Object.assign({type:"heatmap",data:N,label:{show:!0},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}},e)}))}}),[N,b]);return n.createElement(j,(0,g.Z)({},e,{loading:v,error:E,query:t,data:y}),n.createElement(Q.Z,null,(function(){var e,t;return n.createElement(Y.Z,{option:A,notMerge:!0,lazyUpdate:!0,style:{height:h,overflow:"hidden"},theme:b?"compare-dark":"compare-light",opts:{devicePixelRatio:null!=(e=null==(t=window)?void 0:t.devicePixelRatio)?e:1,renderer:"canvas",width:"auto",locale:"en"}})})))}function ae(e){var t=e.queryName,a=e.params,o=void 0===a?{}:a,r=e.series,i=void 0===r?[]:r,m=e.legend,s=e.tooltip,c=e.shouldLoad,u=e.xAxis,d=e.yAxis,p=e.grid,h=e.height,f=e.dimensionColumnName,y=e.metricColumnName,v=(0,D.W)(t,o,!0,c),E=v.data,b=v.loading,S=v.error,N=(0,l.Z)().isDarkTheme,x=(0,n.useState)([]),C=x[0],Z=x[1];(0,n.useEffect)((function(){Z((null==E?void 0:E.data)||[])}),[E]);var R=(0,n.useMemo)((function(){return{tooltip:Object.assign({trigger:"item"},s),legend:Object.assign({type:"scroll",orient:"vertical",right:"20px",top:20,bottom:20,x:"right",formatter:"{name}"},m),series:i.filter((function(e){return null!=(null==e?void 0:e.name)})).map((function(e){return Object.assign({type:"pie",radius:["50%","90%"],avoidLabelOverlap:!1,itemStyle:{borderColor:N?"#1e1e1f":"#ffffff",borderWidth:4},label:{show:!1,position:"center",formatter:"{b}: {d}%"},emphasis:{label:{show:!0,fontSize:"20",fontWeight:"bold",formatter:"{b}\n\n{c}"}},labelLine:{show:!1},data:C.map((function(t){var a=void 0!==e.nameMap?e.nameMap(t[f]):t[f];return{value:t[y],name:a}}))},e)})),xAxis:u,yAxis:d,grid:Object.assign({left:"160px"},p)}}),[C,N]);return n.createElement(j,(0,g.Z)({},e,{loading:b,error:S,query:t,data:E}),n.createElement(Q.Z,null,(function(){var e,t;return n.createElement(Y.Z,{option:R,notMerge:!0,lazyUpdate:!0,style:{height:h,overflow:"hidden"},theme:N?"compare-dark":"compare-light",opts:{devicePixelRatio:null!=(e=null==(t=window)?void 0:t.devicePixelRatio)?e:1,renderer:"canvas",width:"auto",locale:"en"}})})))}function ne(e){var t=e.height,a=e.children;return n.createElement(j,e,n.createElement(W.Z,{style:{height:t}},n.createElement(T.Z,{direction:"column",justifyContent:"left",alignItems:"top",style:{height:"100%"}},a)))}var oe={AF:"Afghanistan",AX:"\xc5land Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia (Plurinational State of)",BQ:"Bonaire, Sint Eustatius and Saba",BA:"Bosnia and Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cabo Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo (Democratic Republic of the)",CK:"Cook Islands",CR:"Costa Rica",CI:"C\xf4te d'Ivoire",HR:"Croatia",CU:"Cuba",CW:"Cura\xe7ao",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and McDonald Islands",VA:"Holy See",HN:"Honduras",HK:"Hong Kong (China)",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran (Islamic Republic of)",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KP:"Korea (Democratic People's Republic of)",KR:"Korea (Republic of)",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao (China)",MK:"Macedonia (the former Yugoslav Republic of)",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia (Federated States of)",MD:"Moldova (Republic of)",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestina, State of",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"R\xe9union",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barth\xe9lemy",SH:"Saint Helena, Ascension and Tristan da Cunha",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",MF:"Saint Martin (French part)",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten (Dutch part)",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan, Province of China",TJ:"Tajikistan",TZ:"Tanzania, United Republic of",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks and Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States of America",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela (Bolivarian Republic of)",VN:"Viet Nam",VG:"Virgin Islands (British)",VI:"Virgin Islands (U.S.)",WF:"Wallis and Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},re=function(e){return oe[e]},ie=a(64556),le=a(99490);var me="undefined"==typeof window?function(e,t){var a=t.defaultValue;return(0,n.useState)(a)}:function(e,t){var a=t.defaultValue,o=t.deserialize,r=t.serialize,i=(0,n.useMemo)((function(){var t=new URLSearchParams(location.search);return t.has(e)?o(t.get(e)):a}),[]),l=(0,n.useState)(i),m=l[0],s=l[1];return(0,n.useEffect)((function(){var t=r(m);if(null!=t){var a=new URLSearchParams(location.search);a.set(e,t),window.history.replaceState(null,null,"?"+a.toString())}}),[m]),[m,s]};function se(e,t){void 0===e&&(e="yyyy-MM-dd HH:mm:ss");var a=function(e,t){return void 0===e&&(e="yyyy-MM-dd HH:mm:ss"),{defaultValue:t,serialize:function(t){return t?le.ou.fromJSDate(t).toFormat(e):void 0},deserialize:function(t){return t?le.ou.fromFormat(t,e).toJSDate():void 0}}}(e);return{defaultValue:t,serialize:function(e){return e[0]||e[1]?e.map((function(e){var t;return null!=(t=a.serialize(e))?t:""})).join(","):void 0},deserialize:function(e){return e[0]||e[1]?e.split(",",2).map((function(e){var t;return null!=(t=a.deserialize(e))?t:null})):void 0}}}var ce=function(e){return e.filter((function(e){return void 0!==e&&void 0!==(null==e?void 0:e.name)}))},ue=function(e){return e.filter((function(e){return void 0!==e&&void 0!==(null==e?void 0:e.name)})).length===e.length},de=function(e){var t=e.repo,a=e.dateRange;return n.createElement(c.ZP,{container:!0,spacing:1},n.createElement(c.ZP,{item:!0,xs:4},n.createElement(J,{title:"Stars total",queryName:"stars-total",params:{repoName:null==t?void 0:t.name,dateRange:a},shouldLoad:ue([t]),noLoadReason:"Need select repo.",height:"12em"})),n.createElement(c.ZP,{item:!0,xs:4},n.createElement(J,{title:"Avg stars / week",queryName:"stars-average-by-week",params:{repoName:null==t?void 0:t.name,dateRange:a},shouldLoad:ue([t]),noLoadReason:"Need select repo.",height:"12em"})),n.createElement(c.ZP,{item:!0,xs:4},n.createElement(J,{title:"Max stars / week",queryName:"stars-max-by-week",params:{repoName:null==t?void 0:t.name,dateRange:a},shouldLoad:ue([t]),noLoadReason:"Need select repo.",height:"12em"})))},pe=function(e){var t=e.repo,a=e.dateRange;return n.createElement(c.ZP,{container:!0,spacing:1},n.createElement(c.ZP,{item:!0,xs:6},n.createElement(J,{title:"Pull requests",queryName:"pull-requests-total",params:{repoName:null==t?void 0:t.name,dateRange:a},shouldLoad:ue([t]),noLoadReason:"Need select repo.",height:"12em"})),n.createElement(c.ZP,{item:!0,xs:6},n.createElement(J,{title:"PR creators",queryName:"pull-request-creators-total",params:{repoName:null==t?void 0:t.name,dateRange:a},shouldLoad:ue([t]),noLoadReason:"Need select repo.",height:"12em"})),n.createElement(c.ZP,{item:!0,xs:6},n.createElement(J,{title:"Pull request reviews",queryName:"pull-request-reviews-total",params:{repoName:null==t?void 0:t.name,dateRange:a},shouldLoad:ue([t]),noLoadReason:"Need select repo.",height:"12em"})),n.createElement(c.ZP,{item:!0,xs:6},n.createElement(J,{title:"Pull request reviewers",queryName:"pull-request-reviewers-total",params:{repoName:null==t?void 0:t.name,dateRange:a},shouldLoad:ue([t]),noLoadReason:"Need select repo.",height:"12em"})))},he=function(e){var t=e.repo,a=e.dateRange;return n.createElement(c.ZP,{container:!0,spacing:1},n.createElement(c.ZP,{item:!0,xs:6},n.createElement(J,{title:"Issues",queryName:"issues-total",params:{repoName:null==t?void 0:t.name,dateRange:a},shouldLoad:ue([t]),noLoadReason:"Need select repo.",height:"12em"})),n.createElement(c.ZP,{item:!0,xs:6},n.createElement(J,{title:"Issue creators",queryName:"issue-creators-total",params:{repoName:null==t?void 0:t.name,dateRange:a},shouldLoad:ue([t]),noLoadReason:"Need select repo.",height:"12em"})),n.createElement(c.ZP,{item:!0,xs:6},n.createElement(J,{title:"Issue comments",queryName:"issue-comments-total",params:{repoName:null==t?void 0:t.name,dateRange:a},shouldLoad:ue([t]),noLoadReason:"Need select repo.",height:"12em"})),n.createElement(c.ZP,{item:!0,xs:6},n.createElement(J,{title:"Issue commenters",queryName:"issue-commenters-total",params:{repoName:null==t?void 0:t.name,dateRange:a},shouldLoad:ue([t]),noLoadReason:"Need select repo.",height:"12em"})))},fe=function(e){var t=e.repo,a=e.dateRange;return n.createElement(c.ZP,{container:!0,spacing:1},n.createElement(c.ZP,{item:!0,xs:4},n.createElement(J,{title:"Commits",queryName:"commits-total",params:{repoName:null==t?void 0:t.name,dateRange:a},shouldLoad:ue([t]),noLoadReason:"Need select repo.",height:"12em"})),n.createElement(c.ZP,{item:!0,xs:4},n.createElement(J,{title:"Committers",queryName:"committers-total",params:{repoName:null==t?void 0:t.name,dateRange:a},shouldLoad:ue([t]),noLoadReason:"Need select repo.",height:"12em"})),n.createElement(c.ZP,{item:!0,xs:4},n.createElement(J,{title:"Pushes",queryName:"pushes-total",params:{repoName:null==t?void 0:t.name,dateRange:a},shouldLoad:ue([t]),noLoadReason:"Need select repo.",height:"12em"})))},ge=function(e){var t=(0,l.Z)().isDarkTheme;return n.createElement("main",{className:p,style:{backgroundColor:t?"#18191a":"#f9fbfc"}},e.children)};(0,ie.oX)(),(0,ie.pd)();var ye=function(e){return{defaultValue:e,serialize:function(e){return e?e.name:void 0},deserialize:function(e){return e?{name:e,color:x()}:void 0}}};function ve(){var e=(0,o.Z)().siteConfig,t=me("repo1",ye(null)),a=t[0],l=t[1],d=me("repo2",ye(null)),p=d[0],g=d[1],y=me("daterange",se("yyyy-MM-dd",(function(){return[null,null]}))),v=y[0],E=y[1];return n.createElement(i.Z,null,n.createElement(m.Z,{dateAdapter:s.Z},n.createElement(f.Z,null,n.createElement(r.Z,null,n.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Lato:300,400,500,700&display=swap"}),n.createElement("title",null,"Project Compare | ",e.title)),n.createElement(G,{repo1:a,onRepo1Change:l,repo2:p,onRepo2Change:g,dateRange:v,onDateRangeChange:E}),n.createElement(ge,null,n.createElement("header",null,n.createElement(c.ZP,{container:!0,spacing:2},n.createElement(c.ZP,{item:!0,sm:6,xs:12},n.createElement(u.Z,{variant:"h4",fontFamily:"Lato",gutterBottom:!0,component:"div"},(null==a?void 0:a.name)||"Repo Name 1")),n.createElement(c.ZP,{item:!0,sm:6,xs:12},n.createElement(u.Z,{variant:"h4",fontFamily:"Lato",gutterBottom:!0,component:"div"},(null==p?void 0:p.name)||"Repo Name 2")))),n.createElement("section",{className:h},n.createElement(u.Z,{variant:"h5",fontFamily:"Lato",gutterBottom:!0,component:"div"},"Stars"),n.createElement(c.ZP,{container:!0,spacing:1},n.createElement(c.ZP,{item:!0,md:6,sm:12},n.createElement(de,{repo:a,dateRange:v})),n.createElement(c.ZP,{item:!0,md:6,sm:12},n.createElement(de,{repo:p,dateRange:v})),n.createElement(c.ZP,{item:!0,sm:12},n.createElement(X,{title:"Stars History",queryName:"stars-history",params:{repoName1:null==a?void 0:a.name,repoName2:null==p?void 0:p.name,dateRange:v},shouldLoad:ue([a,p]),noLoadReason:"Need select repo.",seriesColumnName:"repo_name",series:ce([a,p]).map((function(e){return{name:e.name,color:e.color||x(),axisLabel:{formatter:"{yyyy} {MMM}"}}})),xAxis:{type:"time",name:"event_month"},yAxis:{type:"value",name:"total"},height:"500px"})),n.createElement(c.ZP,{item:!0,md:6,sm:12},n.createElement(ae,{title:"The country / area of stargazers",queryName:"stars-map",params:{repoName:null==a?void 0:a.name,dateRange:v},shouldLoad:ue([a]),noLoadReason:"Need select repo.",series:[{name:"country_or_area",nameMap:re}],dimensionColumnName:"country_or_area",metricColumnName:"count",height:"400px"})),n.createElement(c.ZP,{item:!0,md:6,sm:12},n.createElement(ae,{title:"The country / area of stargazers",queryName:"stars-map",params:{repoName:null==p?void 0:p.name,dateRange:v},shouldLoad:ue([p]),noLoadReason:"Need select repo.",series:[{name:"country_or_area",nameMap:re}],dimensionColumnName:"country_or_area",metricColumnName:"count",height:"400px"})),n.createElement(c.ZP,{item:!0,md:6,sm:12},n.createElement(ae,{title:"Top 50 company of stargazers",queryName:"stars-top-50-company",params:{repoName:null==a?void 0:a.name,dateRange:v},shouldLoad:ue([a]),noLoadReason:"Need select repo.",series:[{name:"company"}],dimensionColumnName:"company_name",metricColumnName:"stargazers",height:"400px"})),n.createElement(c.ZP,{item:!0,md:6,sm:12},n.createElement(ae,{title:"Top 50 company of stargazers",queryName:"stars-top-50-company",params:{repoName:null==p?void 0:p.name,dateRange:v},shouldLoad:ue([p]),noLoadReason:"Need select repo.",series:[{name:"company"}],dimensionColumnName:"company_name",metricColumnName:"stargazers",height:"400px"})))),n.createElement("section",{className:h},n.createElement(u.Z,{variant:"h5",fontFamily:"Lato",gutterBottom:!0,component:"div"},"Pull Request"),n.createElement(c.ZP,{container:!0,spacing:1},n.createElement(c.ZP,{item:!0,md:6,sm:12},n.createElement(pe,{repo:a,dateRange:v})),n.createElement(c.ZP,{item:!0,md:6,sm:12},n.createElement(pe,{repo:p,dateRange:v})),n.createElement(c.ZP,{item:!0,md:12},n.createElement(X,{title:"Pull Request History",queryName:"pull-requests-history",params:{repoName1:null==a?void 0:a.name,repoName2:null==p?void 0:p.name,dateRange:v},shouldLoad:ue([a,p]),noLoadReason:"Need select repo.",seriesColumnName:"repo_name",series:ce([a,p]).map((function(e){return{name:e.name,color:e.color||x(),axisLabel:{formatter:"{yyyy} {MMM}"}}})),xAxis:{type:"time",name:"event_month"},yAxis:{type:"value",name:"total"},height:"500px"})),n.createElement(c.ZP,{item:!0,md:12},n.createElement(X,{title:"Pull Request Creator per month",queryName:"pull-request-creators-per-month",params:{repoName1:null==a?void 0:a.name,repoName2:null==p?void 0:p.name,dateRange:v},shouldLoad:ue([a,p]),noLoadReason:"Need select repo.",seriesColumnName:"repo_name",series:ce([a,p]).map((function(e){return{name:e.name,color:e.color||x(),axisLabel:{formatter:"{yyyy} {MMM}"}}})),xAxis:{type:"time",name:"event_month"},yAxis:{type:"value",name:"total"},height:"500px"})),n.createElement(c.ZP,{item:!0,md:6,sm:12},n.createElement(ae,{title:"The country / area of PR creators",queryName:"pull-request-creators-map",params:{repoName:null==a?void 0:a.name,dateRange:v},shouldLoad:ue([a]),noLoadReason:"Need select repo.",series:[{name:"country_or_area",nameMap:re}],dimensionColumnName:"country_or_area",metricColumnName:"count",height:"400px"})),n.createElement(c.ZP,{item:!0,md:6,sm:12},n.createElement(ae,{title:"The country / area of PR creators",queryName:"pull-request-creators-map",params:{repoName:null==p?void 0:p.name,dateRange:v},shouldLoad:ue([p]),noLoadReason:"Need select repo.",series:[{name:"country_or_area",nameMap:re}],dimensionColumnName:"country_or_area",metricColumnName:"count",height:"400px"})))),n.createElement("section",{className:h},n.createElement(u.Z,{variant:"h5",fontFamily:"Lato",gutterBottom:!0,component:"div"},"Issue"),n.createElement(c.ZP,{container:!0,spacing:1},n.createElement(c.ZP,{item:!0,md:6,sm:12},n.createElement(he,{repo:a,dateRange:v})),n.createElement(c.ZP,{item:!0,md:6,sm:12},n.createElement(he,{repo:p,dateRange:v})))),n.createElement("section",{className:h},n.createElement(u.Z,{variant:"h5",fontFamily:"Lato",gutterBottom:!0,component:"div"},"Commits"),n.createElement(c.ZP,{container:!0,spacing:1},n.createElement(c.ZP,{item:!0,md:6,sm:12},n.createElement(fe,{repo:a,dateRange:v})),n.createElement(c.ZP,{item:!0,md:6,sm:12},n.createElement(fe,{repo:p,dateRange:v})),n.createElement(c.ZP,{item:!0,sm:12},n.createElement(ne,{height:"auto"},n.createElement(n.Fragment,null,n.createElement(u.Z,{variant:"h6",gutterBottom:!0},"Commits Time Distribution"),n.createElement(u.Z,{variant:"body1"},"Commits time distribution describes the number of push events of the repository in different periods."),n.createElement("ul",null,n.createElement(u.Z,{variant:"body1",component:"li"},"The X-axis is 0 ~ 24 hours divided according to GMT(UTC+00:00) time zone"),n.createElement(u.Z,{variant:"body1",component:"li"},"The Y-axis is day of week, 0 means Sunday, 1 means Monday, and so on...")),n.createElement(u.Z,{variant:"body1"},"We use the ",n.createElement("a",{href:"https://en.wikipedia.org/wiki/Heat_map"},"heatmap")," to indicate the frequency of the code ",n.createElement("a",{href:"https://docs.github.com/en/developers/webhooks-and-events/events/github-event-types#pushevent"},"PUSH")," event on this time node. By analyzing the main distribution area of the large circle, we can roughly learn that the open-source repository is mainly the developers in that area in activities."),n.createElement("ul",null,n.createElement(u.Z,{variant:"body1",component:"li"},"If the hot spots are mainly concentrated on the Y-axis working day, then this open-source repository is likely to be an open-source project whose main contribution comes from one or two companies."),n.createElement(u.Z,{variant:"body1",component:"li"},"If the hot spots are mainly concentrated on the X-axis 2 - 14h (corresponding to 10 to 22h of GMT+8), then developers of this open-source repository may be mainly in the eastern hemisphere."),n.createElement(u.Z,{variant:"body1",component:"li"},"If the hot spots are concentrated on the X-axis 14h - 2h (+1) (corresponding to 2 to 18h of GMT-8), then developers of this open-source repository may be mainly in the western hemisphere."))))),n.createElement(c.ZP,{item:!0,md:6,sm:12},n.createElement(te,{title:"Commits Time Distribution",queryName:"commits-time-distribution",params:{repoName:null==a?void 0:a.name,dateRange:v},shouldLoad:ue([a]),noLoadReason:"Need select repo.",xAxisColumnName:"hour",yAxisColumnName:"dayofweek",valueColumnName:"pushes",series:ce([a]).map((function(e){return{name:e.name,color:e.color||x(),axisLabel:{formatter:"{yyyy} {MMM}"}}})),height:"400px"})),n.createElement(c.ZP,{item:!0,md:6,sm:12},n.createElement(te,{title:"Commits Time Distribution",queryName:"commits-time-distribution",params:{repoName:null==p?void 0:p.name,dateRange:v},shouldLoad:ue([p]),noLoadReason:"Need select repo.",xAxisColumnName:"hour",yAxisColumnName:"dayofweek",valueColumnName:"pushes",series:ce([p]).map((function(e){return{name:e.name}})),height:"400px"}))))))))}}}]);